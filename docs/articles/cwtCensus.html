<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>cwtCensus â€¢ cwtCensus</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="cwtCensus">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">cwtCensus</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/cwtCensus.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/J-Ch-n/cohort_reco_pk/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>cwtCensus</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/J-Ch-n/cohort_reco_pk/blob/HEAD/vignettes/cwtCensus.Rmd" class="external-link"><code>vignettes/cwtCensus.Rmd</code></a></small>
      <div class="d-none name"><code>cwtCensus.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="how-to-prepare-data">How to Prepare Data<a class="anchor" aria-label="anchor" href="#how-to-prepare-data"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/J-Ch-n/cohort_reco_pk" class="external-link">cwtCensus</a></span><span class="op">)</span> </span></code></pre></div>
<div class="section level3">
<h3 id="release">Release<a class="anchor" aria-label="anchor" href="#release"></a>
</h3>
<ol style="list-style-type: decimal">
<li>
<p><strong>Read data.</strong></p>
<p>Load the source release data into memory with <code>read.csv</code>
or some other reader functions. The source data set used here is from
<link>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">release_custom</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="st">"./sample_releases.csv"</span><span class="op">)</span></span></code></pre></div>
</li>
<li>
<p><strong>Process coded-wire tag information.</strong></p>
<p>We now start to find the total number number of releases and the
production expansion factor using the source data. Production expansion
factor is defined as the number of tagged fish with clipped adipose fin
/ the number of total releases.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">release_custom</span><span class="op">$</span><span class="va">cwt_1st_mark_count</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">release_custom</span><span class="op">$</span><span class="va">cwt_1st_mark_count</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">0</span></span>
<span><span class="va">release_custom</span><span class="op">$</span><span class="va">cwt_2nd_mark_count</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">release_custom</span><span class="op">$</span><span class="va">cwt_2nd_mark_count</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">0</span></span>
<span><span class="va">release_custom</span><span class="op">$</span><span class="va">non_cwt_1st_mark_count</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">release_custom</span><span class="op">$</span><span class="va">non_cwt_1st_mark_count</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">0</span></span>
<span><span class="va">release_custom</span><span class="op">$</span><span class="va">non_cwt_2nd_mark_count</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">release_custom</span><span class="op">$</span><span class="va">non_cwt_2nd_mark_count</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">0</span></span>
<span></span>
<span><span class="va">release_custom</span><span class="op">$</span><span class="va">Total_Released</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="va">release_custom</span><span class="op">$</span><span class="va">cwt_1st_mark_count</span></span>
<span>                           <span class="op">+</span> <span class="va">release_custom</span><span class="op">$</span><span class="va">cwt_2nd_mark_count</span></span>
<span>                           <span class="op">+</span> <span class="va">release_custom</span><span class="op">$</span><span class="va">non_cwt_1st_mark_count</span></span>
<span>                           <span class="op">+</span> <span class="va">release_custom</span><span class="op">$</span><span class="va">non_cwt_2nd_mark_count</span><span class="op">)</span></span>
<span></span>
<span><span class="va">release_custom</span><span class="op">$</span><span class="va">prod_exp</span> <span class="op">&lt;-</span> <span class="va">release_custom</span><span class="op">$</span><span class="va">cwt_1st_mark_count</span> <span class="op">/</span> <span class="va">release_custom</span><span class="op">$</span><span class="va">Total_Released</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">release_custom</span><span class="op">)</span><span class="op">[</span><span class="fl">7</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"tag_code"</span></span></code></pre></div>
</li>
<li>
<p><strong>Extract time and produce the final data
frame</strong></p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">release_custom</span> <span class="op">&lt;-</span> <span class="va">release_custom</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>release_month <span class="op">=</span> <span class="fu">lubridate</span><span class="fu">::</span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/month.html" class="external-link">month</a></span><span class="op">(</span><span class="fu">lubridate</span><span class="fu">::</span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/ymd.html" class="external-link">ymd</a></span><span class="op">(</span><span class="va">last_release_date</span><span class="op">)</span><span class="op">)</span>,</span>
<span>         total_release <span class="op">=</span> <span class="va">Total_Released</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">release_month</span>,</span>
<span>         <span class="va">brood_year</span>,</span>
<span>         <span class="va">tag_code</span>,</span>
<span>         <span class="va">prod_exp</span>,</span>
<span>         <span class="va">total_release</span><span class="op">)</span></span></code></pre></div>
</li>
<li>
<p><strong>Here are the required column names.</strong></p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">release_custom</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "release_month" "brood_year"    "tag_code"      "prod_exp"     </span></span>
<span><span class="co">#&gt; [5] "total_release"</span></span></code></pre></div>
</li>
<li>
<p><strong>Here is the final result.</strong></p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">release_custom</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;   release_month brood_year tag_code  prod_exp total_release</span></span>
<span><span class="co">#&gt; 1             6       2007    67001 0.2490268       1253793</span></span>
<span><span class="co">#&gt; 2             6       2007    68602 0.2499226       1779855</span></span>
<span><span class="co">#&gt; 3             6       2007    68603 0.2481118       1860859</span></span>
<span><span class="co">#&gt; 4             5       2008    68640 0.9778000        270000</span></span>
<span><span class="co">#&gt; 5             6       2008    68623 0.2484728        141110</span></span>
<span><span class="co">#&gt; 6             6       2008    68638 0.2498524       1601137</span></span></code></pre></div>
</li>
</ol>
</div>
<div class="section level3">
<h3 id="recovery">Recovery<a class="anchor" aria-label="anchor" href="#recovery"></a>
</h3>
<p>Once we have the <code>release</code> data frame under our belt, we
can use it to construct the <code>recovery</code> data frame. Here is an
example of how to create it.</p>
<ol style="list-style-type: decimal">
<li>
<p><strong>Read relevant data</strong></p>
<p>On top of the <code>release</code> data frame, we also need several
other sources of information. We need coded-wire tag recovery
information, which contains when and where a tag was recovered. Then, we
need the site code data frame to translate the recovery site id into
human readable regions. Lastly, we need to know the minimum harvest size
limit in inches at the time and location that the tag was recovered.
Note that if we have all these pieces of information in one data frame,
we do not have to combine these three data frames.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">recovery_custom</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="st">"./sample_recoveries.csv"</span><span class="op">)</span></span>
<span><span class="va">site_code</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="st">"./sample_site_code.csv"</span><span class="op">)</span></span>
<span><span class="va">size_limit</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="st">"./sample_size_limits.csv"</span><span class="op">)</span></span></code></pre></div>
</li>
<li>
<p><strong>Combine relevant data frames</strong></p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">site_code</span> <span class="op">&lt;-</span> <span class="va">site_code</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>sampling_site <span class="op">=</span> <span class="va">sampsite</span>,</span>
<span>         location <span class="op">=</span> <span class="va">area.1</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">sampling_site</span>, <span class="va">location</span>, <span class="va">agency</span><span class="op">)</span></span>
<span></span>
<span><span class="va">size_limit</span> <span class="op">&lt;-</span> <span class="va">size_limit</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>location <span class="op">=</span> <span class="va">Location</span>,</span>
<span>         month <span class="op">=</span> <span class="va">Month</span>,</span>
<span>         size_limit <span class="op">=</span> <span class="va">limit</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'Month'</span>, <span class="st">'Location'</span>, <span class="st">'limit'</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">recovery_custom</span> <span class="op">&lt;-</span> <span class="va">recovery_custom</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>month <span class="op">=</span> <span class="fu">lubridate</span><span class="fu">::</span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/month.html" class="external-link">month</a></span><span class="op">(</span><span class="fu">lubridate</span><span class="fu">::</span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/ymd.html" class="external-link">ymd</a></span><span class="op">(</span><span class="va">recovery_date</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">run_year</span>,</span>
<span>         <span class="va">recovery_id</span>,</span>
<span>         <span class="va">fishery</span>,</span>
<span>         <span class="va">tag_code</span>,</span>
<span>         <span class="va">sex</span>,</span>
<span>         <span class="va">month</span>,</span>
<span>         <span class="va">sampling_site</span>,</span>
<span>         <span class="va">recovery_location_code</span>,</span>
<span>         <span class="va">sampling_site</span>,</span>
<span>         <span class="va">reporting_agency</span>,</span>
<span>         <span class="va">estimated_number</span>,</span>
<span>         <span class="va">length</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">release</span>, by <span class="op">=</span> <span class="st">"tag_code"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"release_month"</span>,</span>
<span>            <span class="st">"prod_exp"</span>,</span>
<span>            <span class="st">"total_release"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">site_code</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"sampling_site"</span> <span class="op">=</span> <span class="st">"sampling_site"</span>,</span>
<span>                              <span class="st">"reporting_agency"</span> <span class="op">=</span> <span class="st">"agency"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">fishery</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">40</span>, <span class="fl">54</span>, <span class="fl">50</span>, <span class="fl">46</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>est_num <span class="op">=</span> <span class="va">estimated_number</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">size_limit</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'run_year'</span>, <span class="st">'fishery'</span>, <span class="st">'location'</span>, <span class="st">'month'</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="st">"run_year"</span>,</span>
<span>         <span class="st">"fishery"</span>,</span>
<span>         <span class="st">"tag_code"</span>,</span>
<span>         <span class="st">"length"</span>,</span>
<span>         <span class="st">"sex"</span>,</span>
<span>         <span class="st">"month"</span>,</span>
<span>         <span class="st">"location"</span>,</span>
<span>         <span class="st">"size_limit"</span>,</span>
<span>         <span class="st">"est_num"</span><span class="op">)</span></span></code></pre></div>
</li>
<li>
<p><strong>Here are the required column names.</strong></p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">recovery_custom</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "run_year"   "fishery"    "tag_code"   "length"     "sex"       </span></span>
<span><span class="co">#&gt; [6] "month"      "location"   "size_limit" "est_num"</span></span></code></pre></div>
</li>
<li>
<p><strong>Here is the final result.</strong></p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">recovery_custom</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;   run_year fishery tag_code length sex month location size_limit est_num</span></span>
<span><span class="co">#&gt; 1     2009      50    67001    496   M    11     &lt;NA&gt;         NA    1.01</span></span>
<span><span class="co">#&gt; 2     2009      50    67001    497   M    11     &lt;NA&gt;         NA    1.01</span></span>
<span><span class="co">#&gt; 3     2009      50    67001    410   M    11     &lt;NA&gt;         NA    1.00</span></span>
<span><span class="co">#&gt; 4     2009      50    67001    505   M    11     &lt;NA&gt;         NA    1.00</span></span>
<span><span class="co">#&gt; 5     2010      10    67001    670         7       FB         27    1.97</span></span>
<span><span class="co">#&gt; 6     2010      10    67001    730         7       FB         27    1.57</span></span></code></pre></div>
</li>
</ol>
</div>
</div>
<div class="section level2">
<h2 id="survival">Survival<a class="anchor" aria-label="anchor" href="#survival"></a>
</h2>
<p>The age-specific survival rate is the ratio between the survived
individuals at the end of an age and the total individuals at the
beginning of an age. Typically, the survival rate for age-2 cohort is
0.5, while the rate for age-3 and up is 0.8.</p>
<p>Here is how to create a custom survival rate input.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">survival_custom</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>age <span class="op">=</span> <span class="fl">2</span><span class="op">:</span><span class="fl">6</span>, rate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0.8</span>, times <span class="op">=</span> <span class="fl">4</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">survival_custom</span></span>
<span><span class="co">#&gt;   age rate</span></span>
<span><span class="co">#&gt; 1   2  0.5</span></span>
<span><span class="co">#&gt; 2   3  0.8</span></span>
<span><span class="co">#&gt; 3   4  0.8</span></span>
<span><span class="co">#&gt; 4   5  0.8</span></span>
<span><span class="co">#&gt; 5   6  0.8</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="fisheries">Fisheries<a class="anchor" aria-label="anchor" href="#fisheries"></a>
</h2>
<p>The package requires a mapping between each type of fishery and its
corresponding identifier.</p>
<p>Here is how to create a custom fisheries-id mapping.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>oc_rec <span class="op">=</span> <span class="fl">40</span>,</span>
<span>     oc_com <span class="op">=</span> <span class="fl">10</span>,</span>
<span>     esc_sp <span class="op">=</span> <span class="fl">54</span>,</span>
<span>     esc_hat <span class="op">=</span> <span class="fl">50</span>,</span>
<span>     riv_harv <span class="op">=</span> <span class="fl">46</span><span class="op">)</span></span>
<span><span class="co">#&gt; $oc_rec</span></span>
<span><span class="co">#&gt; [1] 40</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $oc_com</span></span>
<span><span class="co">#&gt; [1] 10</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $esc_sp</span></span>
<span><span class="co">#&gt; [1] 54</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $esc_hat</span></span>
<span><span class="co">#&gt; [1] 50</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $riv_harv</span></span>
<span><span class="co">#&gt; [1] 46</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="hook-and-release-mortality">Hook-and-Release Mortality<a class="anchor" aria-label="anchor" href="#hook-and-release-mortality"></a>
</h2>
<p>Hook-and-release mortality rate is the proportion of fish that are
The default data frame is included in the package and named
<code>release_mort</code>. Here is how to create a custom
hook-and-release mortality data frame.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">release_mort_custom</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>run_year <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1981</span>, <span class="fl">20</span><span class="op">)</span>, </span>
<span>                           fishery <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">40</span>, <span class="fl">12</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">7</span><span class="op">)</span>, <span class="fl">40</span><span class="op">)</span>, </span>
<span>                           location <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'FB'</span>, <span class="st">'KC'</span>, <span class="st">'MO'</span>, <span class="st">'SF'</span>, <span class="st">'FB'</span>, <span class="st">'KC'</span>, <span class="st">'MO'</span>, <span class="st">'SF'</span>, <span class="st">'FB'</span>,</span>
<span>                                        <span class="st">'KC'</span>, <span class="st">'MO'</span>, <span class="st">'SF'</span>, <span class="st">'CO'</span>, <span class="st">'FB'</span>, <span class="st">'KC'</span>, <span class="st">'KO'</span>, <span class="st">'MO'</span>, <span class="st">'NO'</span>,</span>
<span>                                        <span class="st">'SF'</span>, <span class="st">'CO'</span><span class="op">)</span>, </span>
<span>                           month <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span>, each <span class="op">=</span> <span class="fl">4</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">7</span><span class="op">)</span>, <span class="fl">5</span><span class="op">)</span>, </span>
<span>                           rate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0.14</span>, <span class="fl">12</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0.26</span>, <span class="fl">7</span><span class="op">)</span>, <span class="fl">0.14</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">release_mort_custom</span></span>
<span><span class="co">#&gt;    run_year fishery location month rate</span></span>
<span><span class="co">#&gt; 1      1981      40       FB     2 0.14</span></span>
<span><span class="co">#&gt; 2      1981      40       KC     2 0.14</span></span>
<span><span class="co">#&gt; 3      1981      40       MO     2 0.14</span></span>
<span><span class="co">#&gt; 4      1981      40       SF     2 0.14</span></span>
<span><span class="co">#&gt; 5      1981      40       FB     3 0.14</span></span>
<span><span class="co">#&gt; 6      1981      40       KC     3 0.14</span></span>
<span><span class="co">#&gt; 7      1981      40       MO     3 0.14</span></span>
<span><span class="co">#&gt; 8      1981      40       SF     3 0.14</span></span>
<span><span class="co">#&gt; 9      1981      40       FB     4 0.14</span></span>
<span><span class="co">#&gt; 10     1981      40       KC     4 0.14</span></span>
<span><span class="co">#&gt; 11     1981      40       MO     4 0.14</span></span>
<span><span class="co">#&gt; 12     1981      40       SF     4 0.14</span></span>
<span><span class="co">#&gt; 13     1981      10       CO     5 0.26</span></span>
<span><span class="co">#&gt; 14     1981      10       FB     5 0.26</span></span>
<span><span class="co">#&gt; 15     1981      10       KC     5 0.26</span></span>
<span><span class="co">#&gt; 16     1981      10       KO     5 0.26</span></span>
<span><span class="co">#&gt; 17     1981      10       MO     5 0.26</span></span>
<span><span class="co">#&gt; 18     1981      10       NO     5 0.26</span></span>
<span><span class="co">#&gt; 19     1981      10       SF     5 0.26</span></span>
<span><span class="co">#&gt; 20     1981      40       CO     5 0.14</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="drop-off-mortality">Drop Off Mortality<a class="anchor" aria-label="anchor" href="#drop-off-mortality"></a>
</h2>
<p>Drop off mortality is the proportion of fish encountered by the gear
that is killed without being brought to the vessel intact. The default
value is 0.05 (Salmon Technical Team 2021).</p>
</div>
<div class="section level2">
<h2 id="length-at-age">Length-at-age<a class="anchor" aria-label="anchor" href="#length-at-age"></a>
</h2>
<p>Length-at-age is a data frame encoding the mean and standard
deviation total length at each age-month.</p>
<p>Here is how to create a custom length-at-age data frame.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">length_at_age_custom</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  age <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">10</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">12</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  month <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span><span class="op">:</span><span class="fl">12</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">12</span><span class="op">)</span>,</span>
<span>  mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">19.06998</span>, <span class="fl">14</span><span class="op">)</span>, <span class="fl">21.16612</span>, <span class="fl">22.17341</span>, </span>
<span>           <span class="fl">22.88485</span>, <span class="fl">24.27430</span>, <span class="fl">24.77973</span>, <span class="fl">23.88669</span>, <span class="fl">24.82676</span>, <span class="fl">25.94237</span><span class="op">)</span>,</span>
<span>  sd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">2.151048</span>, <span class="fl">14</span><span class="op">)</span>, <span class="fl">2.272190</span>, <span class="fl">2.250629</span>, <span class="fl">2.393862</span>, <span class="fl">2.191818</span>, </span>
<span>         <span class="fl">2.098376</span>, <span class="fl">2.129863</span>, <span class="fl">1.940248</span>, <span class="fl">1.985157</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">length_at_age_custom</span></span>
<span><span class="co">#&gt;    age month     mean       sd</span></span>
<span><span class="co">#&gt; 1    1     3 19.06998 2.151048</span></span>
<span><span class="co">#&gt; 2    1     4 19.06998 2.151048</span></span>
<span><span class="co">#&gt; 3    1     5 19.06998 2.151048</span></span>
<span><span class="co">#&gt; 4    1     6 19.06998 2.151048</span></span>
<span><span class="co">#&gt; 5    1     7 19.06998 2.151048</span></span>
<span><span class="co">#&gt; 6    1     8 19.06998 2.151048</span></span>
<span><span class="co">#&gt; 7    1     9 19.06998 2.151048</span></span>
<span><span class="co">#&gt; 8    1    10 19.06998 2.151048</span></span>
<span><span class="co">#&gt; 9    1    11 19.06998 2.151048</span></span>
<span><span class="co">#&gt; 10   1    12 19.06998 2.151048</span></span>
<span><span class="co">#&gt; 11   2     1 19.06998 2.151048</span></span>
<span><span class="co">#&gt; 12   2     2 19.06998 2.151048</span></span>
<span><span class="co">#&gt; 13   2     3 19.06998 2.151048</span></span>
<span><span class="co">#&gt; 14   2     4 19.06998 2.151048</span></span>
<span><span class="co">#&gt; 15   2     5 21.16612 2.272190</span></span>
<span><span class="co">#&gt; 16   2     6 22.17341 2.250629</span></span>
<span><span class="co">#&gt; 17   2     7 22.88485 2.393862</span></span>
<span><span class="co">#&gt; 18   2     8 24.27430 2.191818</span></span>
<span><span class="co">#&gt; 19   2     9 24.77973 2.098376</span></span>
<span><span class="co">#&gt; 20   2    10 23.88669 2.129863</span></span>
<span><span class="co">#&gt; 21   2    11 24.82676 1.940248</span></span>
<span><span class="co">#&gt; 22   2    12 25.94237 1.985157</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="how-to-use-the-function">How to Use the Function<a class="anchor" aria-label="anchor" href="#how-to-use-the-function"></a>
</h2>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/J-Ch-n/cohort_reco_pk" class="external-link">cwtCensus</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="bootstrap-or-point-estimate">Bootstrap or Point Estimate?<a class="anchor" aria-label="anchor" href="#bootstrap-or-point-estimate"></a>
</h3>
<p>The package uses either bootstrapped data or point estimates.
Bootstrapped estimations allow us to approximate the spread of each
parameters through simulated uncertainties, while point estimates do not
as they are deterministic. Simply put, bootstrapped estimations offer
more information than point estimates. However, it takes significantly
more computing cycles to find bootstrapped estimations than to find
point estimates.</p>
<div class="section level4">
<h4 id="bootstrapped-estimation">Bootstrapped Estimation<a class="anchor" aria-label="anchor" href="#bootstrapped-estimation"></a>
</h4>
<p>We model the number of fish missed by the sampling effort with an
negative binomial distribution. Assuming the negative binomial
distribution models the number of failures before the <code>kth</code>
success, the number of fish that would have been recovered is
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>+</mo><mi>r</mi><mi>n</mi><mi>b</mi><mi>i</mi><mi>n</mi><mi>o</mi><mi>m</mi><mrow><mo stretchy="true" form="prefix">(</mo><mn>1</mn><mo>,</mo><mn>1</mn><mi>/</mi><mi>e</mi><mi>s</mi><mi>t</mi><mi>_</mi><mi>n</mi><mi>u</mi><mi>m</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">1 + rnbinom(1,  1/est\_num)</annotation></semantics></math>
where <code>est_num</code> is the number of fish estimated to be
recovered by one tag (point estimate).</p>
<div class="section level5">
<h5 id="bootstrap-with-detail">Bootstrap with Detail<a class="anchor" aria-label="anchor" href="#bootstrap-with-detail"></a>
</h5>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">result</span> <span class="op">=</span> <span class="fu"><a href="../reference/cohort_reconstruct.html">cohort_reconstruct</a></span><span class="op">(</span>rel <span class="op">=</span> <span class="va">release</span>, reco <span class="op">=</span> <span class="va">recovery</span>,</span>
<span>                            birth_month <span class="op">=</span> <span class="fl">6L</span>, last_month <span class="op">=</span> <span class="fl">12L</span>,</span>
<span>                            bootstrap <span class="op">=</span> <span class="cn">TRUE</span>, iter <span class="op">=</span> <span class="fl">10L</span>, </span>
<span>                            detail <span class="op">=</span> <span class="cn">TRUE</span>, verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">result</span><span class="op">[[</span><span class="st">"2007"</span><span class="op">]</span><span class="op">]</span><span class="op">[[</span><span class="st">"2"</span><span class="op">]</span><span class="op">]</span><span class="op">[[</span><span class="st">"1"</span><span class="op">]</span><span class="op">]</span><span class="op">[[</span><span class="st">"data"</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="co">#&gt;                         1          2          3          4          5</span></span>
<span><span class="co">#&gt; ocean_abundance 11191.952 11456.1228 11815.3818 11212.6189 10826.8287</span></span>
<span><span class="co">#&gt; impact              0.000     0.0000     0.0000     0.0000     0.0000</span></span>
<span><span class="co">#&gt; maturation          0.000     0.0000     0.0000     0.0000     0.0000</span></span>
<span><span class="co">#&gt; natural_mort      628.156   642.9828   663.1464   629.3159   607.6632</span></span>
<span><span class="co">#&gt;                          6         7          8          9         10</span></span>
<span><span class="co">#&gt; ocean_abundance 12116.2684 10582.802 12128.2769 11714.1797 11530.4519</span></span>
<span><span class="co">#&gt; impact              0.0000     0.000     0.0000     0.0000     0.0000</span></span>
<span><span class="co">#&gt; maturation          0.0000     0.000     0.0000     0.0000     0.0000</span></span>
<span><span class="co">#&gt; natural_mort      680.0339   593.967   680.7079   657.4664   647.1545</span></span>
<span><span class="va">result</span><span class="op">[[</span><span class="st">"2007"</span><span class="op">]</span><span class="op">]</span><span class="op">[[</span><span class="st">"2"</span><span class="op">]</span><span class="op">]</span><span class="op">[[</span><span class="st">"1"</span><span class="op">]</span><span class="op">]</span><span class="op">[[</span><span class="st">"summary"</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="co">#&gt;                     median        sd  CrI_low   CrI_high</span></span>
<span><span class="co">#&gt; ocean_abundance 11493.2873 513.86663 11476.56 11510.0114</span></span>
<span><span class="co">#&gt; impact              0.0000   0.00000     0.00     0.0000</span></span>
<span><span class="co">#&gt; maturation          0.0000   0.00000     0.00     0.0000</span></span>
<span><span class="co">#&gt; natural_mort      645.0687  28.84112   644.13   646.0073</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="bootstrap-without-detail">Bootstrap Without Detail<a class="anchor" aria-label="anchor" href="#bootstrap-without-detail"></a>
</h5>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">result</span> <span class="op">=</span> <span class="fu"><a href="../reference/cohort_reconstruct.html">cohort_reconstruct</a></span><span class="op">(</span>rel <span class="op">=</span> <span class="va">release</span>, reco <span class="op">=</span> <span class="va">recovery</span>,</span>
<span>                            birth_month <span class="op">=</span> <span class="fl">6L</span>, last_month <span class="op">=</span> <span class="fl">12L</span>,</span>
<span>                            bootstrap <span class="op">=</span> <span class="cn">TRUE</span>, iter <span class="op">=</span> <span class="fl">10L</span>, </span>
<span>                            detail <span class="op">=</span> <span class="cn">FALSE</span>, verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">result</span><span class="op">[[</span><span class="st">"2007"</span><span class="op">]</span><span class="op">]</span><span class="op">[[</span><span class="st">"2"</span><span class="op">]</span><span class="op">]</span><span class="op">[[</span><span class="st">"1"</span><span class="op">]</span><span class="op">]</span><span class="op">[[</span><span class="st">"data"</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="co">#&gt;                        1        2        3        4        5        6        7</span></span>
<span><span class="co">#&gt; ocean_abundance 11189.24 11446.14 11751.16 11687.43 11267.15 11400.68 11667.22</span></span>
<span><span class="co">#&gt;                        8        9       10</span></span>
<span><span class="co">#&gt; ocean_abundance 11738.19 11158.83 10799.96</span></span>
<span><span class="va">result</span><span class="op">[[</span><span class="st">"2007"</span><span class="op">]</span><span class="op">]</span><span class="op">[[</span><span class="st">"2"</span><span class="op">]</span><span class="op">]</span><span class="op">[[</span><span class="st">"1"</span><span class="op">]</span><span class="op">]</span><span class="op">[[</span><span class="st">"summary"</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="co">#&gt;                   median      sd  CrI_low CrI_high</span></span>
<span><span class="co">#&gt; ocean_abundance 11423.41 311.448 11413.18 11433.64</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="point-estimate-with-detail">Point Estimate with Detail<a class="anchor" aria-label="anchor" href="#point-estimate-with-detail"></a>
</h5>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">result</span> <span class="op">=</span> <span class="fu"><a href="../reference/cohort_reconstruct.html">cohort_reconstruct</a></span><span class="op">(</span>rel <span class="op">=</span> <span class="va">release</span>, reco <span class="op">=</span> <span class="va">recovery</span>,</span>
<span>                            birth_month <span class="op">=</span> <span class="fl">6L</span>, last_month <span class="op">=</span> <span class="fl">12L</span>,</span>
<span>                            bootstrap <span class="op">=</span> <span class="cn">FALSE</span>, iter <span class="op">=</span> <span class="fl">10L</span>, </span>
<span>                            detail <span class="op">=</span> <span class="cn">TRUE</span>, verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">result</span><span class="op">[[</span><span class="st">"2007"</span><span class="op">]</span><span class="op">]</span><span class="op">[[</span><span class="st">"2"</span><span class="op">]</span><span class="op">]</span><span class="op">[[</span><span class="st">"1"</span><span class="op">]</span><span class="op">]</span><span class="op">[[</span><span class="st">"data"</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="co">#&gt;                      value</span></span>
<span><span class="co">#&gt; ocean_abundance 11431.3501</span></span>
<span><span class="co">#&gt; impact              0.0000</span></span>
<span><span class="co">#&gt; maturation          0.0000</span></span>
<span><span class="co">#&gt; natural_mort      641.5924</span></span>
<span><span class="va">result</span><span class="op">[[</span><span class="st">"2007"</span><span class="op">]</span><span class="op">]</span><span class="op">[[</span><span class="st">"2"</span><span class="op">]</span><span class="op">]</span><span class="op">[[</span><span class="st">"1"</span><span class="op">]</span><span class="op">]</span><span class="op">[[</span><span class="st">"summary"</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="co">#&gt;                      value</span></span>
<span><span class="co">#&gt; ocean_abundance 11431.3501</span></span>
<span><span class="co">#&gt; impact              0.0000</span></span>
<span><span class="co">#&gt; maturation          0.0000</span></span>
<span><span class="co">#&gt; natural_mort      641.5924</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="point-estimate-without-detail">Point Estimate without Detail<a class="anchor" aria-label="anchor" href="#point-estimate-without-detail"></a>
</h5>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">result</span> <span class="op">=</span> <span class="fu"><a href="../reference/cohort_reconstruct.html">cohort_reconstruct</a></span><span class="op">(</span>rel <span class="op">=</span> <span class="va">release</span>, reco <span class="op">=</span> <span class="va">recovery</span>,</span>
<span>                            birth_month <span class="op">=</span> <span class="fl">6L</span>, last_month <span class="op">=</span> <span class="fl">12L</span>,</span>
<span>                            bootstrap <span class="op">=</span> <span class="cn">FALSE</span>, iter <span class="op">=</span> <span class="fl">10L</span>, </span>
<span>                            detail <span class="op">=</span> <span class="cn">FALSE</span>, verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">result</span><span class="op">[</span><span class="va">result</span><span class="op">$</span><span class="va">by</span> <span class="op">==</span> <span class="fl">2007</span> <span class="op">&amp;</span> <span class="va">result</span><span class="op">$</span><span class="va">age</span> <span class="op">==</span> <span class="fl">2</span> <span class="op">&amp;</span> <span class="va">result</span><span class="op">$</span><span class="va">month</span> <span class="op">==</span> <span class="fl">1</span>, <span class="op">]</span></span>
<span><span class="co">#&gt;       by   age month ocean_abundance</span></span>
<span><span class="co">#&gt;    &lt;num&gt; &lt;num&gt; &lt;num&gt;           &lt;num&gt;</span></span>
<span><span class="co">#&gt; 1:  2007     2     1        11431.35</span></span></code></pre></div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="dissecting-the-return-value">Dissecting the Return Value<a class="anchor" aria-label="anchor" href="#dissecting-the-return-value"></a>
</h3>
<p>There are two types of return value, depending on the values of
<code>detail</code> and <code>bootstrap</code>. In the case when both
<code>detail</code> and <code>bootstrap</code> are <code>FALSE</code>,
the return value is a data table of the following form:</p>
<pre><code>| by (integer) | age (integer) | month (integer) | ocean_abundance (double) |
|--------------|---------------|-----------------|--------------------------|
| 1995         | 3             | 5               | 3.814342                 |
| 1995         | 3             | 4               | 10.853284                |
| 1995         | 3             | 3               | 11.056992                |
| 1995         | 3             | 2               | 11.264524                |
| 1995         | 3             | 1               | 11.475951                |
| 1995         | 3             | 12              | 11.691346                |
| 1995         | 3             | 11              | 11.910784                |
| 1995         | 3             | 10              | 12.134340                |
| 1995         | 3             | 9               | 12.362093                |
| 1995         | 3             | 8               | 12.594120                |</code></pre>
<p>In the cases when either <code>detail</code>, <code>bootstrap</code>,
or both are set to <code>TRUE</code>, the return value is a three
dimensional list. The first dimension encodes brood year information
(by), the second age, and the third month. Each age has an age-specific
summary information. Each month has <code>data</code> and month-specific
<code>summary</code> information. Depending on <code>detail</code> and
<code>bootstrap</code>, the corresponding output will vary.</p>
<p>Here is the structure of the return value:</p>
<pre><code>  "by" "age" "month"

â”œâ”€â”€ [["2002"]]
â”‚   â”œâ”€â”€[["2"]]
â”‚   â”‚   â”œâ”€â”€ [["1"]]
â”‚   â”‚   â”‚   â”œâ”€â”€ `data`
â”‚   â”‚   â”‚   â””â”€â”€ `summary`
â”‚   â”‚   â”œâ”€â”€ ...
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ [["age_summary"]]
â”‚   â”‚   â”‚   â”œâ”€â”€ `data`
â”‚   â”‚       â””â”€â”€ `summary`
â”‚   â”œâ”€â”€ [["3"]]
â”‚   â”‚   â”œâ”€â”€ [["1"]]
â”‚   â”‚   â”‚   â”œâ”€â”€ `data`
â”‚   â”‚   â”‚   â””â”€â”€ `summary`
â”‚   â”‚   â”œâ”€â”€ ...
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ [["age_summary"]]
â”‚   â”‚   â”‚   â”œâ”€â”€ `data`
â”‚   â”‚       â””â”€â”€ `summary`
â”‚   â”œâ”€â”€ ...
â”‚   â”‚
â”‚   â”œâ”€â”€[["by_summary"]]
â”‚   â”‚  â”œâ”€â”€ `data`
â”‚   â”‚  â””â”€â”€ `summary`
â”œâ”€â”€ ...</code></pre>
<div class="section level4">
<h4 id="summary">Summary<a class="anchor" aria-label="anchor" href="#summary"></a>
</h4>
<ul>
<li>Parameter: the statistics in question.</li>
<li>Median: the median for the parameter.</li>
<li>SD: the standard deviation for the parameter.</li>
<li>CrI_low: the lower bound of the credible interval.</li>
<li>CrI_high: the upper bound of the credible interval.</li>
</ul>
<div class="section level5">
<h5 id="brood-year-specific-summary-under-by_summary">Brood-year-specific summary (under <code>by_summary</code>)<a class="anchor" aria-label="anchor" href="#brood-year-specific-summary-under-by_summary"></a>
</h5>
<ul>
<li>srr: spawner reduction rate, or adult equivalent exploitation rate,
is the â€œreduction in a broodâ€™s potential adult spawning escapement owing
to ocean fisheries, relative to its escapement potential in the absence
of ocean fishingâ€ (Oâ€™Farrell et al.Â 2012):</li>
<li>s1: early life survival rate is the proportion of the abundance of
fish first month in ocean, relative to the total release number (Chen et
al.,).</li>
</ul>
<pre><code>| Parameter | Median  | SD      | CrI_low | CrI_high |
|-----------|---------|---------|---------|----------|
| srr       | 0.18061 | 0.00871 | 0.17996 | 0.18126  |
| s1        | 0.00519 | 0.00008 | 0.00518 | 0.00521  |</code></pre>
</div>
<div class="section level5">
<h5 id="age-specific-summary-under-age_summary">Age-specific summary (under <code>age_summary</code>)<a class="anchor" aria-label="anchor" href="#age-specific-summary-under-age_summary"></a>
</h5>
<ul>
<li>imp_rate: age-specific fishery impact rate.</li>
<li>mat_rate: age-specific maturation rate.</li>
</ul>
<pre><code>| Parameter | Median  | SD      | CrI_low | CrI_high |
|-----------|---------|---------|---------|----------|
| imp_rate  | 0.20872 | 0.00730 | 0.20815 | 0.20930  |
| mat_rate  | 0.63548 | 0.01462 | 0.63546 | 0.63550  |</code></pre>
</div>
<div class="section level5">
<h5 id="month-specific-summary-under-each-month">Month-specific summary (under each month)<a class="anchor" aria-label="anchor" href="#month-specific-summary-under-each-month"></a>
</h5>
<ul>
<li>ocean_abundance: number of individuals in the ocean at that
time.</li>
<li>impact: mortality due to fishing.</li>
<li>maturation: number of spawners.</li>
<li>natural_mort: mortality due to natural causes.</li>
</ul>
<pre><code>| Parameter        | Median      | SD       | CrI_low     | CrI_high    |
|------------------|-------------|----------|-------------|-------------|
| ocean_abundance  | 33954.6031  | 497.3167 | 33871.9672  | 34037.2390  |
| impact           | 0.0000      | 0.0000   | 0.0000      | 0.0000      |
| maturation       | 0.0000      | 0.0000   | 0.0000      | 0.0000      |
| natural_mort     | 625.5616    | 9.1623   | 624.0392    | 627.0841    |</code></pre>
</div>
</div>
<div class="section level4">
<h4 id="data">Data<a class="anchor" aria-label="anchor" href="#data"></a>
</h4>
<p>Each labeled entry is one bootstrapped iteration, where the label
<code>n</code> corresponds to the nth iteration.</p>
<div class="section level5">
<h5 id="brood-year-specific-data">Brood-year-specific data<a class="anchor" aria-label="anchor" href="#brood-year-specific-data"></a>
</h5>
<pre><code>| Measurement | 1       | 2       | 3       |
|-------------|---------|---------|---------|
| srr         | 0.18414 | 0.17711 | 0.19864 | 
| s1          | 0.00526 | 0.00514 | 0.00515 |</code></pre>
</div>
<div class="section level5">
<h5 id="age-specific-data">Age-specific data<a class="anchor" aria-label="anchor" href="#age-specific-data"></a>
</h5>
<pre><code>| Parameter | 1       | 2       | 3       |
|-----------|---------|---------|---------|
| imp_rate  | 0.20745 | 0.20182 | 0.22336 |
| mat_rate  | 0.63768 | 0.65303 | 0.61126 |</code></pre>
</div>
<div class="section level5">
<h5 id="month-specific-data">Month-specific data<a class="anchor" aria-label="anchor" href="#month-specific-data"></a>
</h5>
<pre><code>| Parameter        | 1         | 2         | 3         |
|------------------|-----------|-----------|-----------|
| ocean_abundance  | 34138.2384| 33660.7294| 33638.2628|
| impact           | 0.0000    | 0.0000    | 0.0000    |
| maturation       | 0.0000    | 0.0000    | 0.0000    |
| natural_mort     | 628.9448  | 620.1474  | 619.7335  |</code></pre>
</div>
</div>
</div>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<p>Chen EK, Satterthwaite WH, Oâ€™Farrell MR, Carlson SM (????).
â€œIncorporating age structure into the assessment and forecasting of
Sacramento River Fall Chinook salmon (Oncorhynchus tshawytscha).â€ In
preparation.</p>
<p>Salmon Technical Team (2000). â€œSTT Recommendations for Hooking
Mortality Rates in 2000 Recreational Ocean Chinook and Coho Fisheries.â€
Pacific Fishery Management Council, Portland. <a href="https://www.pcouncil.org/documents/2021/05/stt-recommendations-for-hooking-mortality-rates-in-2000-recreational-ocean-chinook-and-coho-fisheries.pdf/" class="external-link uri">https://www.pcouncil.org/documents/2021/05/stt-recommendations-for-hooking-mortality-rates-in-2000-recreational-ocean-chinook-and-coho-fisheries.pdf/</a>.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Joshua Chen, Erin Redding, Emily Chen.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
